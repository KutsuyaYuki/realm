---
import Default from "./Default.astro";
import Giscus from "@giscus/solid";

const { frontmatter } = Astro.props;
---

<Default title={frontmatter.title} description={frontmatter.description}>
  <article class="text-neutral-200">
    <div class="relative px-4 min-h-[18rem] overflow-hidden w-full border-b border-neutral-700 flex items-center">
      <img
        src="/profile/unsplash-bg.webp"
        alt="Unsplash Background by Alex Perez"
        class="min-h-[18rem] max-h-full w-full object-cover brightness-50 absolute inset-0"
      />
      <header class="relative text-center lg:text-left text-neutral-200 max-w-3xl w-full mx-auto flex flex-col justify-center">
        <h1 class="font-heading font-bold text-4xl">
          {frontmatter.title}
        </h1>
        <time class="pt-2 lg:pt-0">
          {frontmatter.date}
        </time>
        <div class="w-full justify-center lg:justify-start flex items-center flex-wrap gap-2 pt-2">
          {frontmatter.tags.map((tag: string) => (
            <p class="bg-neutral-800 bg-opacity-50 backdrop-blur-sm border rounded border-neutral-700 px-2 py-1 text-xs">
              {tag}
            </p>
          ))}
        </div>
      </header>
    </div>
    <div class="prose px-4 prose-img:rounded prose-img:border prose-blockquote:font-heading prose-img:border-neutral-700 prose-img:max-h-80 prose-img:w-full prose-img:object-contain prose-img:bg-neutral-800 prose-headings:text-neutral-200 prose-invert max-w-3xl mx-auto py-12 w-full prose-headings:pb-2 prose-headings:border-b prose-headings:border-neutral-700 prose-pre:scrollbar-thin prose-pre:scrollbar-thumb-neutral-600 prose-pre:scrollbar-track-neutral-700 prose-pre:border prose-pre:border-neutral-700">
      <slot />
      <div class="w-full py-12">
        <Giscus 
          repo="irvanmalik48/realm"
          repoId="R_kgDOHpHiPg"
          category="Comments"
          categoryId="DIC_kwDOHpHiPs4CQsGa"
          mapping="title"
          strict="1"
          reactionsEnabled="1"
          emitMetadata="0"
          inputPosition="top"
          theme="transparent_dark"
          lang="en"
          client:only="solid-js"
        />
      </div>
    </div>
  </article>
</Default>